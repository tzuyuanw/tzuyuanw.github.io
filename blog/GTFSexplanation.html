---
layout: default
title: Explaining GTFS
---
	<h1>{{ page.title }}</h1>
	<div class="blurb">
   		<p>This page explains the main files that make up the GTFS data and their relationship with each other. 
			It is important to note that there are variation among different transit operators in the way they publish their GTFS data. 
			Even with a set format, different transit agencies may choose to provide different amount of information. 
			For instance, not all transit agencies include a frequencies file. 
			Never the less, the basic information such as stops, routes, and scheules can still be determined from the GTFS data.
			The best way to understand the GTFS data is to open the files and see the types of information provided. 
		</p>
		<h3>Files</h3>
		<p>The GTFS data consists of multiple text files. 
			The six main ones are Routes, Trips, Stop_Times, Calendar, and Frequencies. 
			This section explains each of the main files within the GTFS data as well as an example of each file taken from SEPTA's GTFS from 
			April 2020.
		</p>
		<p><b>Routes:</b><br/>
			The Route text file presents information of all the routes, including their route number and their route name. 
			There is also a <i>route_id</i> that identifies each route. 
			It may also indicate the route type which could be the type of vehicle used (trolley, buses, heavy rail ,etc.).	
		</p>
		<iframe src="GTFSexplanation_routes.html" frameborder="0" width="100%" height="350px"></iframe>
		
		<p><b>Trips:</b><br/>
			The Trip file contains information on each trip that is scheduled to operate. 
			It identifies each unique trip by its ID (<i>trip_id</i>). It indicates which route, block, and direction is associated with the trip. 
			It also provides a code that shows which days of the week the trip operates. 
			The file also indicates the information shown on the headsign for each trip.  			
		</p>
		<iframe src="GTFSexplanation_trips.html" frameborder="0" width="100%" height="270px"></iframe>
		<p><b>Stops:</b><br/>
			The Stop file lists all the stops or station in the system. 
			It provides a unique identifier for each stop (<i>stop_id</i>) as well as its name. 
			It also provides the location, specified with longitude and latitude. 
		</p>
		<iframe src="GTFSexplanation_stops.html" frameborder="0" width="100%" height="355px"></iframe>
		<p><b>Stop-Times:</b><br/>
			The Stop_times file marks the arrival and departure time at a stop. 
			Each entry in the file records a stop made by a trip. 
			Each entry also includes the unique trip identifier (<i>trip_id</i>), 
			the unique stop identifier (<i>stop_id</i>) as well as the number indicating the sequence at which the stops are made. 
		</p>
		<iframe src="GTFSexplanation_stopTimes.html" frameborder="0" width="100%" height="260px"></iframe>
		<p><b>Calendar:</b><br/>
			The Calendar file includes a code (<i>service_id</i>) and which day of the week this code is associated with. 
			This code is used to indicate the days the trip operates on.
		</p>
		<iframe src="GTFSexplanation_calendar.html" frameborder="0" width="100%" height="270px"></iframe>
		<p><b>Frequencies:</b><br/>
			The Frequencies file reports the headway between two successive buses on the same route. 
			It also specifies the period in which the headway applies with the start time and the end time. 
			This means that it is possible that one trip will have multiple rows in the frequencies table.
			In the example below, the first three entries are all related to the same trip. 
			This trip changes frequency during the day which results in three separate entries.
			The file includes the <i>trip_id</i> so that it can be connected to other information relating to the trip.
		</p>
		<iframe src="GTFSexplanation_frequencies.html" frameborder="0" width="100%" height="260px"></iframe>
		<h3>Relationships</h3>
		<p>In order to fully utilize the information provided by the GTFS files, it is necessary to merge two files by field common to both. 
			The following section explains how to join two files and what additional information the joined file provides. 
		</p>
		<p class="aligncenter>
		<img src="GTFS_relationship.png" height="50%" width="50%" alt="test image" class="image"/>
		</p>						
		<p><b>Trips + Routes</b><br/>
			Trips and Routes file can be joined by matching <i>route_id</i>.
			This can provide the route information for each trip.
		</p>
		<p><b>Stop Times + Trips</b><br/>
			Stop and Trips can be joined by <i>trip_id</i>. 
			This adds information about the trip that made the stop. 
		</p>
		<p><b>Stop Times + Stops</b><br/>
			Stop_times and Stops can be joined by matching <i>stop_id</i>.
			This would add the information on the stop to the list of times the stop was made. 
		</p>
		<p><b>Trips + Calendar</b><br/>
			Trips and Calendar can be joined by <i>trip_id</i>. 
			This identifies on which days a specific trip will operate.  
		</p>		
		<p><b>Trips + Frequencies</b><br/>
			Trips and Frequencies can be joined by <i>trip_id</i>.
			This shows the scheduled frequency of each trip. 
			It is important to recognize that one trip can be matched to multiple rows within the Frequencies table
			since the frequency for the trip can change throughout the day. 
		</p>



	</div>
